# 服务的注册与发现
## Consule
### 通过HTTP注册服务

```shell
curl -X PUT -d '{"ID": "node_exporter_172.16.16.46","Name": "node_exporter","Tags": ["node_exporter", "prometheus"],"Address": "172.16.16.46","Port": 19049}' http://172.16.16.46:8500/v1/agent/service/register

curl -X PUT -d '{"ID": "node_exporter_172.16.16.37","Name": "node_exporter","Tags": ["node_exporter", "prometheus"],"Address": "172.16.16.37","Port": 19049}' http://172.16.16.46:8500/v1/agent/service/register

curl -X PUT -d '{"ID": "fgmp-5g-service-172.16.16.37","Name": "fgmp-5g-service","Tags": ["fgmp-5g-service", "logs"],"Address": "172.16.16.37","Port": 20200}' http://172.16.16.46:8500/v1/agent/service/register


curl -X PUT -d '{"ID": "fgmp-base-service-172.16.16.37","Name": "fgmp-base-service","Tags": ["fgmp-base-service", "logs","37服务器"],"Address": "172.16.16.37","Port": 20100,"Meta": {"path": "/media/fangwenjie/data/boy/component/fgmp/fgmp-service/fgmp-service-base/target/deploy/logs/*","version":"4.0"}}' http://172.16.16.46:8500/v1/agent/service/register?replace-existing-checks=true

curl -X PUT -d '{"ID": "fgmp-5g-service-172.16.16.37","Name": "fgmp-5g-service","Tags": ["fgmp-5g-service", "logs","37服务器"],"Address": "172.16.16.37","Port": 20200,"Meta": {"path": "/media/fangwenjie/data/boy/component/fgmp/fgmp-service/fgmp-service-5g/target/deploy/logs/*","version":"4.0"}}' http://172.16.16.46:8500/v1/agent/service/register?replace-existing-checks=true

#15服务器上的base服务
curl -X PUT -d '{"ID": "fgmp-base-service-172.16.1.15","Name": "fgmp-base-service","Tags": ["fgmp-base-service", "logs"],"Address": "172.16.1.15","Port": 20100,"Meta": {"path": "/media/liuxu/data/rattrap/ytx/fgmp-gateway/csp-server/target/deploy/logs/*","version":"4.0"}}' http://172.16.16.46:8500/v1/agent/service/register?replace-existing-checks=true



curl -X PUT -d '{"ID": "csp-server-172.16.16.46","Name": "csp-server","Tags": ["csp-server"],"Address": "172.16.16.46","Port": 50000,"Meta": {"path": "/media/liuxu/data/rattrap/ytx/fgmp-gateway/csp-server/target/deploy/logs/*","startup.time":"2021-05-04 10:22:33"}}' http://172.16.16.46:8500/v1/agent/service/register?replace-existing-checks=true

```

## Nacos
### HTTP访问
#### 获取所有的服务列表
```bash
curl -X GET http://172.16.1.15:8848/nacos/v1/ns/service/list?pageNo=1&pageSize=2
```
结果信息是：
```json

```
